(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-chat-user-chat"],{"0493":function(t,e,n){"use strict";n.r(e);var a=n("7742"),i=n("52f1");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("55ce");var o,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"8d539578",null,!1,a["a"],o);e["default"]=s.exports},1413:function(t,e,n){"use strict";n.r(e);var a=n("7312"),i=n("1d9b");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);var o,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"75af8f6f",null,!1,a["a"],o);e["default"]=s.exports},1617:function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("a49b")),r={dataList:[{id:1,user_id:2,username:"女神",avatar:"".concat(i.default.ossUrl,"/userpic/14.jpg"),content:"呼叫舔狗",type:"text",created_at:1598897479},{id:2,user_id:2,username:"女神",avatar:"".concat(i.default.ossUrl,"/userpic/14.jpg"),content:"?????????????????????????????????????????????????????????????????????????",type:"text",created_at:1598897779},{id:3,user_id:1,username:"舔狗",avatar:"".concat(i.default.ossUrl,"/userpic/10.jpg"),content:"汪汪汪",type:"text",created_at:1598900918}]};e.default=r},"1d9b":function(t,e,n){"use strict";n.r(e);var a=n("7938"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"1f64":function(t,e,n){"use strict";n("d3b7"),n("e25e"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={getHoroscope:function(t){var e=["摩羯","水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手","摩羯"];t=new Date(t);var n=t.getMonth()+1,a=t.getDate(),i=n-(a-14<"865778999988".charAt(n));return e[i]+"座"},sumAge:function(t){var e=new Date(t.replace(/-/g,"/")),n=new Date,a=n.getTime()-e.getTime(),i=Math.floor(a/864e5),r=a%864e5,o=Math.floor(r/36e5),u=r%36e5,s=(Math.floor(u/6e4),u%6e4);Math.round(s/1e3);return i+"天 "+o+"小时 "},getChatTime:function(t,e){if(t=t.toString().length<13?1e3*t:t,e=e.toString().length<13?1e3*e:e,(parseInt(t)-parseInt(e))/1e3>300)return this.getTime(t)},getTime:function(t){t=t.toString().length<13?1e3*t:t;var e=(new Date).getTime(),n=(e-parseInt(t))/1e3;return n<43200?this.dateFormat(new Date(t),"{A} {t}:{ii}"):n<518400?this.dateFormat(new Date(t),"{Mon}月{DD}日 {A} {t}:{ii}"):this.dateFormat(new Date(t),"{Y}-{MM}-{DD} {A} {t}:{ii}")},parseNumber:function(t){return t<10?"0"+t:t},dateFormat:function(t,e){var n={},a=/\{([^}]+)\}/,i=["1","2","3","4","5","6","7","8","9","10","11","12"];n["Y"]=t.getFullYear(),n["M"]=t.getMonth()+1,n["MM"]=this.parseNumber(n["M"]),n["Mon"]=i[n["M"]-1],n["D"]=t.getDate(),n["DD"]=this.parseNumber(n["D"]),n["h"]=t.getHours(),n["hh"]=this.parseNumber(n["h"]),n["t"]=n["h"]>12?n["h"]-12:n["h"],n["tt"]=this.parseNumber(n["t"]),n["A"]=n["h"]>12?"下午":"上午",n["i"]=t.getMinutes(),n["ii"]=this.parseNumber(n["i"]),n["s"]=t.getSeconds(),n["ss"]=this.parseNumber(n["s"]);while(a.test(e))e=e.replace(a,n[RegExp.$1]);return e},getAgeByBirthday:function(t){var e=new Date(t.replace(/-/g,"/")),n=new Date;return n.getFullYear()-e.getFullYear()-(n.getMonth()<e.getMonth()||n.getMonth()==e.getMonth()&&n.getDate()<e.getDate()?1:0)}};e.default=a},"3fdc":function(t,e,n){var a=n("bcd7");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("7788492e",a,!0,{sourceMap:!1,shadowMode:!1})},4091:function(t,e,n){"use strict";n.r(e);var a=n("f5b3"),i=n("8332");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);var o,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"091861a8",null,!1,a["a"],o);e["default"]=s.exports},"44f9":function(t,e,n){"use strict";var a=n("4ea4");n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("1f64")),r={props:{item:Object,index:Number,prevTime:[Number,String]},data:function(){return{user_id:1}},computed:{isSelf:function(){return this.item.user_id===this.user_id},chatTime:function(){return i.default.getChatTime(this.item.created_at,this.prevTime)}}};e.default=r},"52f1":function(t,e,n){"use strict";n.r(e);var a=n("44f9"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"55ce":function(t,e,n){"use strict";var a=n("3fdc"),i=n.n(a);i.a},"6c8e":function(t,e,n){"use strict";var a=n("4ea4");n("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5530")),r=a(n("1617")),o=a(n("0493")),u=a(n("1413")),s={components:{chatList:o.default,bottomInput:u.default},data:function(){return{scrollHeight:600,dataList:[],scrollInto:""}},onLoad:function(){var t=uni.getSystemInfoSync();this.scrollHeight=t.windowHeight-uni.upx2px(100),uni.setNavigationBarTitle({title:"女神"}),this.initData()},onReady:function(){this.scrollToBottom()},methods:{initData:function(){this.dataList=r.default.dataList.map((function(t){return(0,i.default)({},t)}))},doSubmit:function(t){var e={user_id:1,username:"舔狗",avatar:"/static/default.jpg",content:t,type:"text",created_at:(new Date).getTime()};this.dataList.push(e),this.scrollToBottom()},scrollToBottom:function(){var t=this,e=this.dataList.length-1;e<0||setTimeout((function(){t.scrollInto="chat_"+e}),250)}}};e.default=s},7312:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"fixed-bottom flex align-center justify-between bg-white px-2 border-top border-light-secondary",staticStyle:{height:"100rpx"}},[n("v-uni-view",{staticClass:"flex-fill flex align-center rounded",staticStyle:{height:"80rpx"}},[n("v-uni-input",{staticClass:"px-2 w-100 bg-light rounded",staticStyle:{height:"100%"},attrs:{placeholder:"文明发言","placeholder-class":"text-light-muted"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onSubmit.apply(void 0,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("v-uni-view",{staticClass:"flex-shrink-0 text-center text-main animated",staticStyle:{width:"50px"},attrs:{"hover-class":"pulse"},on:{touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSubmit.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"iconfont icon-fabu",staticStyle:{"font-size":"50rpx"}})],1)],1)},r=[]},7742:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.chatTime?n("v-uni-view",{staticClass:"py-1 flex align-center justify-center font-sm text-light-muted"},[t._v(t._s(t.chatTime))]):t._e(),n("v-uni-view",{staticClass:"flex align-start p-2",style:t.isSelf?"flex-direction: row-reverse":""},[n("v-uni-image",{staticClass:"rounded-circle",staticStyle:{width:"80rpx",height:"80rpx"},attrs:{src:t.item.avatar||"/static/default.jpg",mode:"aspectFill"}}),n("v-uni-view",{staticClass:"position-relative rounded p-2 mx-3 bubble-width",class:t.isSelf?"bubble-bg-right":"bubble-bg-left"},[n("v-uni-text",{staticClass:"text-wrap",class:t.isSelf?"bubble-right":"bubble-left"},[t._v(t._s(t.item.content))])],1)],1)],1)},r=[]},7938:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{content:""}},methods:{onSubmit:function(){this.content&&(this.$emit("submit",this.content),this.content="")}}};e.default=a},8332:function(t,e,n){"use strict";n.r(e);var a=n("6c8e"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},bcd7:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'.bubble-width[data-v-8d539578],\n.bubble-bg-left[data-v-8d539578],\n.bubble-bg-right[data-v-8d539578]{box-sizing:border-box}.bubble-width[data-v-8d539578]{max-width:%?400?%}.bubble-bg-left[data-v-8d539578]{background-color:rgba(0,0,0,.05)}.bubble-bg-right[data-v-8d539578]{background-color:rgba(4,190,2,.7)}.bubble-left[data-v-8d539578]:after{content:"";position:absolute;right:100%;top:%?15?%;width:0;height:0;border-width:%?18?%;border-style:solid;border-color:transparent rgba(0,0,0,.05) transparent transparent}.bubble-right[data-v-8d539578]:after{content:"";position:absolute;left:100%;top:%?15?%;width:0;height:0;border-width:%?18?%;border-style:solid;border-color:transparent transparent transparent rgba(4,190,2,.7)}',""]),t.exports=e},f5b3:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-scroll-view",{staticStyle:{position:"absolute",left:"0",right:"0",top:"0",bottom:"50px"},style:"height:"+t.scrollHeight+"px;",attrs:{"scroll-y":!0,"scroll-into-view":t.scrollInto,"scroll-with-animation":!0}},[t._l(t.dataList,(function(e,a){return[n("v-uni-view",{key:a+"_0",attrs:{id:"chat_"+a}},[n("chat-list",{attrs:{item:e,index:a,prevTime:a>0?t.dataList[a-1].created_at:0}})],1)]}))],2),n("bottom-input",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.doSubmit.apply(void 0,arguments)}}})],1)},r=[]}}]);