(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-space-user-space"],{"1c7b":function(t,e,i){"use strict";i.r(e);var n=i("91a5"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"3b98":function(t,e,i){"use strict";var n=i("4ea4");i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("6590")),s={props:{item:Object,index:{type:Number,default:-1},isDetail:{type:Boolean,default:!1}},mixins:[a.default],data:function(){return{}},methods:{openSpace:function(){uni.navigateTo({url:"../../pages/user-space/user-space"})},openDetail:function(){!this.isDetail&&uni.navigateTo({url:"../../pages/post-detail/post-detail?detail="+encodeURIComponent(JSON.stringify(this.item))})},onSupport:function(t){this.$emit("support",{type:t,index:this.index})},onComment:function(){this.openDetail(),this.isDetail&&this.$emit("comment")},onShare:function(){this.$emit("share")}}};e.default=s},"3e50":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"flex align-center justify-center p-2 border-bottom border-light-secondary",staticStyle:{height:"250rpx"}},[i("v-uni-image",{staticClass:"rounded-circle flex-shrink-0",staticStyle:{width:"150rpx",height:"150rpx"},attrs:{src:"/static/default.jpg"}}),i("v-uni-view",{staticClass:"flex-fill flex-column flex",staticStyle:{height:"100%"}},[i("v-uni-view",{staticClass:"flex align-center mb-1"},[i("v-uni-view",{staticClass:"flex-fill flex-column flex align-center"},[i("v-uni-text",{staticClass:"font-md font-weight-bold"},[t._v("1")]),i("v-uni-text",{staticClass:"text-muted"},[t._v("获赞")])],1),i("v-uni-view",{staticClass:"flex-fill flex-column flex align-center"},[i("v-uni-text",{staticClass:"font-md font-weight-bold"},[t._v("2")]),i("v-uni-text",{staticClass:"text-muted"},[t._v("关注")])],1),i("v-uni-view",{staticClass:"flex-fill flex-column flex align-center"},[i("v-uni-text",{staticClass:"font-md font-weight-bold"},[t._v("3")]),i("v-uni-text",{staticClass:"text-muted"},[t._v("粉丝")])],1)],1),i("v-uni-view",{staticClass:"flex align-center justify-center"},[i("v-uni-view",{staticClass:"bg-main text-white rounded text-center py-1",staticStyle:{width:"80%"}},[t._v("关注")])],1)],1)],1),i("v-uni-view",{staticClass:"flex align-center w-100",staticStyle:{height:"80rpx"}},[t._l(t.tabBars,(function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"flex-fill text-center font-weight-bold",class:t.tabIndex===n?"text-main font-lg":"font-md",staticStyle:{height:"100%"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.tabIndex=n}}},[t._v(t._s(e.name))])]}))],2),i("v-uni-swiper",{style:"height: "+t.scrollHeight+"px;",attrs:{current:t.tabIndex,duration:150},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSwiper.apply(void 0,arguments)}}},t._l(t.dataList,(function(e,n){return i("v-uni-swiper-item",{key:n},["home"===e.key?[i("v-uni-view",{staticClass:"p-2 border-bottom"},[i("v-uni-view",{staticClass:"font-md pb-2"},[t._v("账号信息")]),i("v-uni-view",{staticClass:"text-muted"},[t._v("账号年龄：12个月")]),i("v-uni-view",{staticClass:"text-muted"},[t._v("UID：1")])],1),i("v-uni-view",{staticClass:"p-2 border-bottom"},[i("v-uni-view",{staticClass:"font-md pb-2"},[t._v("个人信息")]),i("v-uni-view",{staticClass:"text-muted"},[t._v("星座：双子座")]),i("v-uni-view",{staticClass:"text-muted"},[t._v("职业：码农")]),i("v-uni-view",{staticClass:"text-muted"},[t._v("故乡：南宁")]),i("v-uni-view",{staticClass:"text-muted"},[t._v("情感：未婚")])],1)]:[i("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore(n)}}},[e.list.length>0?[t._l(e.list,(function(e,n){return[i("post-list",{key:n+"_0",attrs:{item:e,index:n},on:{follow:function(e){arguments[0]=e=t.$handleEvent(e),t.doFollow.apply(void 0,arguments)},support:function(e){arguments[0]=e=t.$handleEvent(e),t.doSupport.apply(void 0,arguments)}}})]})),i("load-more",{attrs:{loadText:e.list.length>t.limit?t.load.text[t.load.type]:t.load.text[2]}})]:[i("no-data")]],2)]],2)})),1),i("uni-popup",{ref:"popup",attrs:{type:"top"}},[i("v-uni-view",{staticClass:"bg-white"},[i("v-uni-view",{staticClass:"flex align-center justify-center p-2",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toggle("black")}}},[i("v-uni-text",{staticClass:"iconfont icon-kulian"}),i("v-uni-text",{staticClass:"ml-2 font"},[t._v("加入黑名单")])],1),i("v-uni-view",{staticClass:"border-bottom border-light-secondary"}),i("v-uni-view",{staticClass:"flex align-center justify-center p-2",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toggle("chat")}}},[i("v-uni-text",{staticClass:"iconfont icon-xiaoxi"}),i("v-uni-text",{staticClass:"ml-2 font"},[t._v("聊天")])],1)],1)],1)],1)},s=[]},"6fca":function(t,e,i){"use strict";i.r(e);var n=i("c9c4"),a=i("1c7b");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o,l=i("f0c5"),c=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"6448fc0b",null,!1,n["a"],o);e["default"]=c.exports},"885d":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"p-2 animated fadeIn"},[i("v-uni-view",{staticClass:"flex align-center justify-between"},[i("v-uni-view",{staticClass:"flex align-center flex-fill"},[i("v-uni-image",{staticClass:"rounded-circle flex-shrink-0",staticStyle:{width:"65rpx",height:"65rpx"},attrs:{src:t.item.avatar,mode:"aspectFill","lazy-load":!0},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.openSpace.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"flex-fill flex flex-column line-h px-2"},[i("v-uni-view",{staticClass:"font"},[t._v(t._s(t.item.username))]),i("v-uni-text",{staticClass:"text-light-muted font-small"},[t._v(t._s(t._f("formatTime")(t.item.created_at||0)))])],1)],1),i("v-uni-view",{staticClass:"rounded flex-shrink-0 animated",class:t.item.isFollow?"bg-light text-dark":"bg-main text-white",attrs:{"hover-class":t.item.isFollow?"bg-hover-light pulse":"bg-hover-main pulse"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$emit("follow",t.index)}}},[i("v-uni-text",{staticClass:"px-3 py-1"},[t._v(t._s(t.item.isFollow?"取消关注":"关注"))])],1)],1),i("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.openDetail.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"my-1 font-md"},[t._v(t._s(t.item.title))]),t._t("default",[t.item.cover?i("v-uni-image",{staticClass:"rounded w-100",staticStyle:{height:"350rpx"},attrs:{src:t.item.cover,mode:"aspectFill"}}):t._e()])],2),i("v-uni-view",{staticClass:"flex align-center py-1"},[i("v-uni-view",{staticClass:"flex-fill flex align-center justify-center animated",class:"praise"===t.item.support.type?"text-main":"",attrs:{"hover-class":"pulse"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onSupport("praise")}}},[i("v-uni-text",{staticClass:"iconfont icon-dianzan2"}),i("v-uni-text",{staticClass:"ml-1"},[t._v(t._s(t.item.support.praise_count>0?t.item.support.praise_count:"赞"))])],1),i("v-uni-view",{staticClass:"flex-fill flex align-center justify-center animated",class:"blame"===t.item.support.type?"text-main":"",attrs:{"hover-class":"pulse"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onSupport("blame")}}},[i("v-uni-text",{staticClass:"iconfont icon-cai"}),i("v-uni-text",{staticClass:"ml-1"},[t._v(t._s(t.item.support.blame_count>0?t.item.support.blame_count:"踩"))])],1),i("v-uni-view",{staticClass:"flex-fill flex align-center justify-center animated",attrs:{"hover-class":"pulse text-main"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onComment.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-pinglun2"}),i("v-uni-text",{staticClass:"ml-1"},[t._v(t._s(t.item.comment_count>0?t.item.comment_count:"评论"))])],1),i("v-uni-view",{staticClass:"flex-fill flex align-center justify-center animated",attrs:{"hover-class":"pulse text-main"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onShare.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-zhuanfa1"}),i("v-uni-text",{staticClass:"ml-1"},[t._v(t._s(t.item.share_count>0?t.item.share_count:"分享"))])],1)],1)],1)},s=[]},8932:function(t,e,i){"use strict";i.r(e);var n=i("3e50"),a=i("d295");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o,l=i("f0c5"),c=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"30a46838",null,!1,n["a"],o);e["default"]=c.exports},"91a5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:["loadText"]};e.default=n},"93bf":function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2909")),s=n(i("5530")),o=n(i("c19a")),l=n(i("6590")),c=n(i("9e0b")),u=n(i("448d")),r=n(i("6fca")),f={components:{postList:c.default,uniPopup:u.default,loadMore:r.default},mixins:[l.default],data:function(){return{scrollHeight:600,tabIndex:0,tabBars:[{id:1,name:"主页",key:"home"},{id:2,name:"帖子",key:"post"},{id:3,name:"动态",key:"news"}],dataList:[]}},onLoad:function(){var t=uni.getSystemInfoSync();this.scrollHeight=t.windowHeight-uni.upx2px(330),this.initData()},onNavigationBarButtonTap:function(){this.$refs.popup.open()},onBackPress:function(){this.$refs.popup.close()},methods:{initData:function(){this.dataList=this.tabBars.map((function(t){var e=[];return"home"!==t.key&&(e=o.default.dataList.map((function(t){return(0,s.default)({},t)}))),(0,s.default)((0,s.default)({},t),{},{list:e})}))},changeSwiper:function(t){this.tabIndex=t.detail.current},loadMore:function(t){var e=this;if(2!==this.load.type){if(1===this.load.type)return;var i=this.dataList[t].list;setTimeout((function(){e.load.type=1,e.dataList[t].list=[].concat((0,a.default)(i),(0,a.default)(i)),e.load.type=0}),500)}},toggle:function(t){switch(t){case"black":uni.showToast({title:"加入黑名单",icon:"none"});break;case"chat":this.navigateTo("user-chat");break}this.$refs.popup.close()},doFollow:function(t){var e=this.dataList[this.tabIndex].list[t];return e.isFollow=!e.isFollow,uni.showToast({title:e.isFollow?"关注成功":"已取消关注",icon:"none"})},doSupport:function(t){var e=this.dataList[this.tabIndex].list[t.index];if(""===e.support.type)return e.support.type=t.type,void e.support["".concat(t.type,"_count")]++;"praise"===e.support.type&&"blame"===t.type?(e.support.praise_count--,e.support.blame_count++):"blame"===e.support.type&&"praise"===t.type&&(e.support.praise_count++,e.support.blame_count--),e.support.type=t.type}}};e.default=f},"9e0b":function(t,e,i){"use strict";i.r(e);var n=i("885d"),a=i("afec");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o,l=i("f0c5"),c=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"606bddb4",null,!1,n["a"],o);e["default"]=c.exports},afec:function(t,e,i){"use strict";i.r(e);var n=i("3b98"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},c19a:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("a49b")),s={dataList:[{username:"煎蛋",avatar:"".concat(a.default.ossUrl,"/default.jpg"),isFollow:!1,title:"测试标题1",content:"英国大量上班族希望延续远程办公的政策",cover:"".concat(a.default.ossUrl,"/datapic/11.jpg"),support:{type:"praise",praise_count:10,blame_count:10},comment_count:0,share_count:0,created_at:(new Date).getTime()-Math.floor(1e10*Math.random())},{username:"咸鱼",avatar:"".concat(a.default.ossUrl,"/userpic/3.jpg"),isFollow:!0,title:"测试标题2",content:"外部供应链被切断，内部猴子不够用",cover:"".concat(a.default.ossUrl,"/datapic/12.jpg"),support:{type:"blame",praise_count:10,blame_count:10},comment_count:0,share_count:0,created_at:(new Date).getTime()-Math.floor(1e10*Math.random())},{username:"绿师",avatar:"".concat(a.default.ossUrl,"/userpic/10.jpg"),isFollow:!0,title:"测试标题3",content:"Y染色体的消失，并不意味着男性的灭绝",cover:"".concat(a.default.ossUrl,"/datapic/2.jpg"),support:{type:"",praise_count:0,blame_count:0},comment_count:0,share_count:0,created_at:(new Date).getTime()-Math.floor(1e10*Math.random())}]};e.default=s},c9c4:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"flex align-center justify-center text-light-muted",staticStyle:{height:"80rpx"}},[t._v(t._s(t.loadText))])},s=[]},d295:function(t,e,i){"use strict";i.r(e);var n=i("93bf"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a}}]);