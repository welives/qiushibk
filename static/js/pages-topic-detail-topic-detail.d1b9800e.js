(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-topic-detail-topic-detail"],{"032f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["detail"]};e.default=i},"0cfa":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a49b")),s={dataList:[{username:"煎蛋",avatar:"".concat(n.default.ossUrl,"/default.jpg"),isFollow:!1,title:"测试标题1",content:"英国大量上班族希望延续远程办公的政策",cover:"".concat(n.default.ossUrl,"/datapic/11.jpg"),support:{type:"praise",praise_count:10,blame_count:10},comment_count:0,share_count:0,created_at:(new Date).getTime()-Math.floor(1e10*Math.random())},{username:"咸鱼",avatar:"".concat(n.default.ossUrl,"/userpic/3.jpg"),isFollow:!0,title:"测试标题2",content:"外部供应链被切断，内部猴子不够用",cover:"".concat(n.default.ossUrl,"/datapic/12.jpg"),support:{type:"blame",praise_count:10,blame_count:10},comment_count:0,share_count:0,created_at:(new Date).getTime()-Math.floor(1e10*Math.random())},{username:"绿师",avatar:"".concat(n.default.ossUrl,"/userpic/10.jpg"),isFollow:!0,title:"测试标题3",content:"Y染色体的消失，并不意味着男性的灭绝",cover:"".concat(n.default.ossUrl,"/datapic/2.jpg"),support:{type:"",praise_count:0,blame_count:0},comment_count:0,share_count:0,created_at:(new Date).getTime()-Math.floor(1e10*Math.random())}]};e.default=s},"1c7b":function(t,e,a){"use strict";a.r(e);var i=a("91a5"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1d4b":function(t,e,a){"use strict";a.r(e);var i=a("58e5"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1f64":function(t,e,a){"use strict";a("d3b7"),a("e25e"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={getHoroscope:function(t){var e=["摩羯","水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手","摩羯"];t=new Date(t);var a=t.getMonth()+1,i=t.getDate(),n=a-(i-14<"865778999988".charAt(a));return e[n]+"座"},sumAge:function(t){var e=new Date(t.replace(/-/g,"/")),a=new Date,i=a.getTime()-e.getTime(),n=Math.floor(i/864e5),s=i%864e5,o=Math.floor(s/36e5),r=s%36e5,l=(Math.floor(r/6e4),r%6e4);Math.round(l/1e3);return n+"天 "+o+"小时 "},getChatTime:function(t,e){if(t=t.toString().length<13?1e3*t:t,e=e.toString().length<13?1e3*e:e,(parseInt(t)-parseInt(e))/1e3>300)return this.getTime(t)},getTime:function(t){t=t.toString().length<13?1e3*t:t;var e=(new Date).getTime(),a=(e-parseInt(t))/1e3;return a<43200?this.dateFormat(new Date(t),"{A} {t}:{ii}"):a<518400?this.dateFormat(new Date(t),"{Mon}月{DD}日 {A} {t}:{ii}"):this.dateFormat(new Date(t),"{Y}-{MM}-{DD} {A} {t}:{ii}")},parseNumber:function(t){return t<10?"0"+t:t},dateFormat:function(t,e){var a={},i=/\{([^}]+)\}/,n=["1","2","3","4","5","6","7","8","9","10","11","12"];a["Y"]=t.getFullYear(),a["M"]=t.getMonth()+1,a["MM"]=this.parseNumber(a["M"]),a["Mon"]=n[a["M"]-1],a["D"]=t.getDate(),a["DD"]=this.parseNumber(a["D"]),a["h"]=t.getHours(),a["hh"]=this.parseNumber(a["h"]),a["t"]=a["h"]>12?a["h"]-12:a["h"],a["tt"]=this.parseNumber(a["t"]),a["A"]=a["h"]>12?"下午":"上午",a["i"]=t.getMinutes(),a["ii"]=this.parseNumber(a["i"]),a["s"]=t.getSeconds(),a["ss"]=this.parseNumber(a["s"]);while(i.test(e))e=e.replace(i,a[RegExp.$1]);return e},getAgeByBirthday:function(t){var e=new Date(t.replace(/-/g,"/")),a=new Date;return a.getFullYear()-e.getFullYear()-(a.getMonth()<e.getMonth()||a.getMonth()==e.getMonth()&&a.getDate()<e.getDate()?1:0)}};e.default=i},"3b98":function(t,e,a){"use strict";var i=a("4ea4");a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("6590")),s={props:{item:Object,index:{type:Number,default:-1},isDetail:{type:Boolean,default:!1}},mixins:[n.default],data:function(){return{}},methods:{openSpace:function(){uni.navigateTo({url:"../../pages/user-space/user-space"})},openDetail:function(){!this.isDetail&&uni.navigateTo({url:"../../pages/post-detail/post-detail?detail="+encodeURIComponent(JSON.stringify(this.item))})},onSupport:function(t){this.$emit("support",{type:t,index:this.index})},onComment:function(){this.openDetail(),this.isDetail&&this.$emit("comment")},onShare:function(){this.$emit("share")}}};e.default=s},"4d41":function(t,e,a){"use strict";a.r(e);var i=a("032f"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"58e5":function(t,e,a){"use strict";var i=a("4ea4");a("99af"),a("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),s=i(a("2909")),o=i(a("0cfa")),r=i(a("6590")),l=i(a("9e0b")),c=i(a("f14f")),u=i(a("6fca")),f={components:{postList:l.default,topicInfo:c.default,loadMore:u.default},mixins:[r.default],data:function(){return{tabIndex:0,tabBars:[{id:1,name:"默认",key:"def"},{id:2,name:"最新",key:"new"}],detail:{},hotList:[{title:"uni-app实战第一季社区交友"},{title:"uni-app实战第二季商城开发"}],dataList:{def:[],new:[]}}},computed:{tab:function(){return this.tabBars[this.tabIndex]},listData:function(){return this.dataList[this.tab.key]}},onLoad:function(t){t.detail&&(this.detail=JSON.parse(decodeURIComponent(t.detail))),this.initData()},onReachBottom:function(){var t=this;if(2!==this.load.type){if(1===this.load.type)return;var e=this.dataList[this.tab.key];setTimeout((function(){t.load.type=1,t.dataList[t.tab.key]=[].concat((0,s.default)(e),(0,s.default)(e)),t.load.type=0}),500)}},methods:{initData:function(){this.dataList["def"]=o.default.dataList.map((function(t){return(0,n.default)({},t)}))}}};e.default=f},6590:function(t,e,a){"use strict";var i=a("4ea4");a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1f64")),s={data:function(){return{load:{type:0,text:["上拉加载更多...","加载中...","真的一滴都没有了"]},page:1,limit:10,limits:[5,7,10,13,15],tabDbClick:!1}},filters:{formatTime:function(t){return n.default.getTime(t)}},methods:{back:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;uni.navigateBack({delta:t})},navigateTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";uni.navigateTo({url:e?"/pages/".concat(t,"/").concat(t,"?").concat(e):"/pages/".concat(t,"/").concat(t)})},doRefresh:function(){var t=this;this.tabDbClick&&uni.startPullDownRefresh(),this.tabDbClick=!0,setTimeout((function(){t.tabDbClick=!1}),200)}}};e.default=s},"6fca":function(t,e,a){"use strict";a.r(e);var i=a("c9c4"),n=a("1c7b");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o,r=a("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"6448fc0b",null,!1,i["a"],o);e["default"]=l.exports},"885d":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"p-2 animated fadeIn"},[a("v-uni-view",{staticClass:"flex align-center justify-between"},[a("v-uni-view",{staticClass:"flex align-center flex-fill"},[a("v-uni-image",{staticClass:"rounded-circle flex-shrink-0",staticStyle:{width:"65rpx",height:"65rpx"},attrs:{src:t.item.avatar,mode:"aspectFill","lazy-load":!0},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.openSpace.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"flex-fill flex flex-column line-h px-2"},[a("v-uni-view",{staticClass:"font"},[t._v(t._s(t.item.username))]),a("v-uni-text",{staticClass:"text-light-muted font-small"},[t._v(t._s(t._f("formatTime")(t.item.created_at||0)))])],1)],1),a("v-uni-view",{staticClass:"rounded flex-shrink-0 animated",class:t.item.isFollow?"bg-light text-dark":"bg-main text-white",attrs:{"hover-class":t.item.isFollow?"bg-hover-light pulse":"bg-hover-main pulse"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$emit("follow",t.index)}}},[a("v-uni-text",{staticClass:"px-3 py-1"},[t._v(t._s(t.item.isFollow?"取消关注":"关注"))])],1)],1),a("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.openDetail.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"my-1 font-md"},[t._v(t._s(t.item.title))]),t._t("default",[t.item.cover?a("v-uni-image",{staticClass:"rounded w-100",staticStyle:{height:"350rpx"},attrs:{src:t.item.cover,mode:"aspectFill"}}):t._e()])],2),a("v-uni-view",{staticClass:"flex align-center py-1"},[a("v-uni-view",{staticClass:"flex-fill flex align-center justify-center animated",class:"praise"===t.item.support.type?"text-main":"",attrs:{"hover-class":"pulse"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onSupport("praise")}}},[a("v-uni-text",{staticClass:"iconfont icon-dianzan2"}),a("v-uni-text",{staticClass:"ml-1"},[t._v(t._s(t.item.support.praise_count>0?t.item.support.praise_count:"赞"))])],1),a("v-uni-view",{staticClass:"flex-fill flex align-center justify-center animated",class:"blame"===t.item.support.type?"text-main":"",attrs:{"hover-class":"pulse"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onSupport("blame")}}},[a("v-uni-text",{staticClass:"iconfont icon-cai"}),a("v-uni-text",{staticClass:"ml-1"},[t._v(t._s(t.item.support.blame_count>0?t.item.support.blame_count:"踩"))])],1),a("v-uni-view",{staticClass:"flex-fill flex align-center justify-center animated",attrs:{"hover-class":"pulse text-main"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onComment.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont icon-pinglun2"}),a("v-uni-text",{staticClass:"ml-1"},[t._v(t._s(t.item.comment_count>0?t.item.comment_count:"评论"))])],1),a("v-uni-view",{staticClass:"flex-fill flex align-center justify-center animated",attrs:{"hover-class":"pulse text-main"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onShare.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont icon-zhuanfa1"}),a("v-uni-text",{staticClass:"ml-1"},[t._v(t._s(t.item.share_count>0?t.item.share_count:"分享"))])],1)],1)],1)},s=[]},"91a5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["loadText"]};e.default=i},"98ec":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("topic-info",{attrs:{detail:t.detail}}),a("v-uni-view",{staticClass:"divider"}),t._l(t.hotList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"px-2 py-1 flex align-center border-bottom border-light-secondary",attrs:{"hover-class":"bg-light"}},[a("v-uni-text",{staticClass:"iconfont icon-liulan text-main font-md mr-2"}),a("v-uni-text",{staticClass:"font text-ellipsis"},[t._v(t._s(e.title))])],1)})),a("v-uni-view",{staticClass:"divider"}),a("v-uni-view",{staticClass:"flex align-center w-100",staticStyle:{height:"80rpx"}},[t._l(t.tabBars,(function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"flex-fill text-center font-weight-bold",class:t.tabIndex===i?"text-main font-lg":"font-md",staticStyle:{height:"100%"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.tabIndex=i}}},[t._v(t._s(e.name))])]}))],2),t.listData.length>0?[t._l(t.listData,(function(t,e){return[a("post-list",{key:e+"_0",attrs:{item:t,index:e}}),a("v-uni-view",{key:e+"_1",staticClass:"divider"})]})),a("load-more",{attrs:{loadText:t.listData.length>t.limit?t.load.text[t.load.type]:t.load.text[2]}})]:[a("no-data")]],2)},s=[]},"9e0b":function(t,e,a){"use strict";a.r(e);var i=a("885d"),n=a("afec");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o,r=a("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"606bddb4",null,!1,i["a"],o);e["default"]=l.exports},afec:function(t,e,a){"use strict";a.r(e);var i=a("3b98"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},b209:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"position-relative"},[a("v-uni-image",{staticClass:"w-100",staticStyle:{height:"300rpx",filter:"blur(7px)"},attrs:{src:t.detail.cover,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"position-relative px-2 bg-white",staticStyle:{"z-index":"10"}},[a("v-uni-view",{staticClass:"flex"},[a("v-uni-image",{staticClass:"rounded flex-shrink-0",staticStyle:{width:"150rpx",height:"150rpx","margin-top":"-75rpx"},attrs:{src:t.detail.cover,mode:"aspectFill"}}),a("v-uni-text",{staticClass:"font-md ml-2 mt-1"},[t._v("#"+t._s(t.detail.title)+"#")])],1),a("v-uni-view",{staticClass:"flex align-center text-light-muted my-1"},[a("v-uni-text",[t._v("动态:"+t._s(t.detail.news_count))]),a("v-uni-text",{staticClass:"ml-2"},[t._v("今日:"+t._s(t.detail.today_count))])],1),a("v-uni-view",{staticClass:"text-light-muted my-1 font"},[t._v(t._s(t.detail.desc))])],1)],1)},s=[]},bc07:function(t,e,a){"use strict";a.r(e);var i=a("98ec"),n=a("1d4b");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o,r=a("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"658fdbc2",null,!1,i["a"],o);e["default"]=l.exports},c9c4:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"flex align-center justify-center text-light-muted",staticStyle:{height:"80rpx"}},[t._v(t._s(t.loadText))])},s=[]},f14f:function(t,e,a){"use strict";a.r(e);var i=a("b209"),n=a("4d41");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o,r=a("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"15b6107a",null,!1,i["a"],o);e["default"]=l.exports}}]);