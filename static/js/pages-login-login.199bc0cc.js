(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"05cd":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".uni-status-bar[data-v-611f6ff8]{box-sizing:border-box}.uni-status-bar[data-v-611f6ff8]{width:%?750?%;height:20px\n\t\t/* height: var(--status-bar-height);\n */}",""]),t.exports=e},"0f76":function(t,e,i){"use strict";var n=i("8971"),a=i.n(n);a.a},"1f64":function(t,e,i){"use strict";i("d3b7"),i("e25e"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={getHoroscope:function(t){var e=["摩羯","水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手","摩羯"];t=new Date(t);var i=t.getMonth()+1,n=t.getDate(),a=i-(n-14<"865778999988".charAt(i));return e[a]+"座"},sumAge:function(t){var e=new Date(t.replace(/-/g,"/")),i=new Date,n=i.getTime()-e.getTime(),a=Math.floor(n/864e5),s=n%864e5,o=Math.floor(s/36e5),r=s%36e5,c=(Math.floor(r/6e4),r%6e4);Math.round(c/1e3);return a+"天 "+o+"小时 "},getChatTime:function(t,e){if(t=t.toString().length<13?1e3*t:t,e=e.toString().length<13?1e3*e:e,(parseInt(t)-parseInt(e))/1e3>300)return this.getTime(t)},getTime:function(t){t=t.toString().length<13?1e3*t:t;var e=(new Date).getTime(),i=(e-parseInt(t))/1e3;return i<43200?this.dateFormat(new Date(t),"{A} {t}:{ii}"):i<518400?this.dateFormat(new Date(t),"{Mon}月{DD}日 {A} {t}:{ii}"):this.dateFormat(new Date(t),"{Y}-{MM}-{DD} {A} {t}:{ii}")},parseNumber:function(t){return t<10?"0"+t:t},dateFormat:function(t,e){var i={},n=/\{([^}]+)\}/,a=["1","2","3","4","5","6","7","8","9","10","11","12"];i["Y"]=t.getFullYear(),i["M"]=t.getMonth()+1,i["MM"]=this.parseNumber(i["M"]),i["Mon"]=a[i["M"]-1],i["D"]=t.getDate(),i["DD"]=this.parseNumber(i["D"]),i["h"]=t.getHours(),i["hh"]=this.parseNumber(i["h"]),i["t"]=i["h"]>12?i["h"]-12:i["h"],i["tt"]=this.parseNumber(i["t"]),i["A"]=i["h"]>12?"下午":"上午",i["i"]=t.getMinutes(),i["ii"]=this.parseNumber(i["i"]),i["s"]=t.getSeconds(),i["ss"]=this.parseNumber(i["s"]);while(n.test(e))e=e.replace(n,i[RegExp.$1]);return e},getAgeByBirthday:function(t){var e=new Date(t.replace(/-/g,"/")),i=new Date;return i.getFullYear()-e.getFullYear()-(i.getMonth()<e.getMonth()||i.getMonth()==e.getMonth()&&i.getDate()<e.getDate()?1:0)}};e.default=n},"25a8":function(t,e,i){"use strict";i.r(e);var n=i("c2cc"),a=i("48cf");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("0f76");var o,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"611f6ff8",null,!1,n["a"],o);e["default"]=c.exports},3285:function(t,e,i){"use strict";i.r(e);var n=i("6263"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"389e":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"flex align-center justify-center py-5"},[i("v-uni-view",{staticStyle:{width:"100rpx",height:"2rpx","background-color":"#e3e1dd"}}),i("v-uni-view",{staticClass:"text-muted mx-2"},[t._v("社交账号登入")]),i("v-uni-view",{staticStyle:{width:"100rpx",height:"2rpx","background-color":"#e3e1dd"}})],1),i("v-uni-view",{staticClass:"flex px-2 text-white"},[t._l(t.providerList,(function(e,n){return[e.icon?i("v-uni-view",{key:n+"_0",staticClass:"flex-fill flex align-center justify-center"},[i("v-uni-view",{staticClass:"rounded-circle flex align-center justify-center animated",class:e.bgColor,staticStyle:{width:"100rpx",height:"100rpx"},attrs:{"hover-class":"pulse"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onSocialLogin(e.id)}}},[i("v-uni-text",{staticClass:"uni-icon",class:e.icon,staticStyle:{"font-size":"50rpx"}})],1)],1):t._e()]}))],2)],1)},s=[]},4418:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("uni-status-bar"),i("v-uni-view",{staticClass:"flex align-center justify-center animated",staticStyle:{width:"80rpx",height:"80rpx"},attrs:{"hover-class":"text-main pulse"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.back()}}},[i("v-uni-text",{staticClass:"iconfont icon-guanbi font-lg"})],1),i("v-uni-view",{staticClass:"text-center font-weight-bold",staticStyle:{"font-size":"50rpx",padding:"80rpx 0 50rpx","letter-spacing":"10rpx"}},[t._v(t._s("login"===t.formType?t.phoneLogin?"手机登入":"普通登入":"注册"))]),i("v-uni-view",{staticClass:"p-2"},[i("v-uni-view",{staticClass:"flex align-center justify-center my-3"},["login"===t.formType&&t.phoneLogin?i("v-uni-text",{staticClass:"flex-shrink-0 flex align-center bg-light px-2 border-right",staticStyle:{height:"80rpx"}},[t._v("+86")]):t._e(),i("v-uni-input",{staticClass:"bg-light rounded px-2 flex-fill",staticStyle:{height:"80rpx"},attrs:{placeholder:t.phoneLogin?"手机号":"用户名/邮箱","placeholder-class":"text-light-muted font"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),"login"===t.formType&&t.phoneLogin?i("v-uni-view",{staticClass:"flex align-center my-3"},[i("v-uni-input",{staticClass:"bg-light rounded px-2 flex-fill",staticStyle:{height:"80rpx"},attrs:{placeholder:"请输入短信验证码","placeholder-class":"text-light-muted font",password:!0},model:{value:t.smscode,callback:function(e){t.smscode=e},expression:"smscode"}}),i("v-uni-view",{staticClass:"rounded-right flex-shrink-0 flex align-center justify-center",class:t.smsTime>0?"bg-disabled-main":"bg-main",staticStyle:{width:"160rpx",height:"80rpx"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.getSmscode.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"text-white"},[t._v(t._s(t.smsTime>0?t.smsTime+"s":"获取验证码"))])],1)],1):i("v-uni-view",{staticClass:"flex align-center position-relative my-3"},[i("v-uni-input",{staticClass:"bg-light rounded px-2 flex-fill",staticStyle:{height:"80rpx"},attrs:{placeholder:"请输入密码","placeholder-class":"text-light-muted font",password:!0},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),"login"!==t.formType||t.phoneLogin?t._e():i("v-uni-text",{staticClass:"bg-light position-absolute right-0 text-light-muted font-sm",staticStyle:{"letter-spacing":"4rpx","z-index":"100"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.forget.apply(void 0,arguments)}}},[t._v("忘记密码？")])],1),"reg"===t.formType?i("v-uni-input",{staticClass:"bg-light rounded px-2 my-3",staticStyle:{height:"80rpx"},attrs:{placeholder:"请输入确认密码","placeholder-class":"text-light-muted font",password:!0},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}}):t._e()],1),i("v-uni-view",{staticClass:"px-4"},[i("v-uni-button",{staticClass:"border-0 text-white",class:t.disabled||t.loading?"bg-disabled-main":"bg-main",staticStyle:{"border-radius":"60rpx","letter-spacing":"6rpx"},attrs:{type:"primary",disabled:t.disabled||t.loading},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.submit()}}},[t._v(t._s("login"===t.formType?"登入":"注册"))])],1),i("v-uni-view",{staticClass:"flex px-4 mt-4 text-light-muted"},["login"===t.formType?i("v-uni-text",{staticClass:"flex-fill px-2 text-left",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.changeLoginType.apply(void 0,arguments)}}},[t._v(t._s(t.phoneLogin?"普通登入":"手机登入"))]):t._e(),i("v-uni-text",{staticClass:"flex-fill px-2 text-right",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.changeType.apply(void 0,arguments)}}},[t._v(t._s("login"===t.formType?"还没账号？":"已有账号，")),i("v-uni-text",{staticClass:"text-main"},[t._v(t._s("login"===t.formType?"去注册":"去登入"))])],1)],1),i("social-login",{on:{social:function(e){arguments[0]=e=t.$handleEvent(e),t.socialLogin.apply(void 0,arguments)}}})],1)},s=[]},"48cf":function(t,e,i){"use strict";i.r(e);var n=i("abf6"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"532b":function(t,e,i){"use strict";i("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{providerList:[]}},created:function(){var t=this;uni.getProvider({service:"oauth",success:function(e){t.providerList=e.provider.map((function(t){var e="",i="",n="";switch(t){case"weixin":e="微信登录",i="uni-icon-weixin",n="bg-success";break;case"qq":e="QQ登录",i="uni-icon-qq",n="bg-primary";break;case"sinaweibo":e="新浪微博登录",i="uni-icon-weibo",n="bg-danger";break}return{name:e,icon:i,bgColor:n,id:t}}))}})},methods:{onSocialLogin:function(t){this.$emit("social",t)}}};e.default=n},6263:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("6590")),s=n(i("d37a")),o=n(i("25a8")),r=/^1[345789]\d{9}$/,c={components:{socialLogin:s.default,uniStatusBar:o.default},mixins:[a.default],data:function(){return{loading:!1,formType:"login",phoneLogin:!1,username:"",password:"",repassword:"",smscode:"",smsTime:0}},computed:{disabled:function(){return"reg"===this.formType?!this.username||!this.password||!this.repassword:this.phoneLogin?!this.username||!this.smscode||!this.validate():!this.username||!this.password}},methods:{initForm:function(){this.username="",this.password="",this.repassword="",this.smscode=""},changeType:function(){this.phoneLogin=!1,this.formType="login"===this.formType?"reg":"login",this.initForm()},changeLoginType:function(){this.phoneLogin=!this.phoneLogin,this.initForm()},getSmscode:function(){var t=this;if(!this.validate())return uni.showToast({title:"手机号码格式不正确",icon:"none",position:"top"});if("login"===this.formType&&0===this.smsTime){this.smsTime=60;var e=setInterval((function(){t.smsTime>0?t.smsTime--:(clearInterval(e),t.smsTime=0)}),1e3)}},socialLogin:function(e){t.log(e)},validate:function(){if("reg"===this.formType){if(this.password!==this.repassword)return uni.showToast({title:"两次输入的密码不一致",icon:"none",position:"top"}),!1}else if(this.phoneLogin)return r.test(this.username);return!0},submit:function(){var t=this;if(this.validate()){var e="reg"===this.formType?"注册":"登入";this.loading=!0,setTimeout((function(){t.loading=!1}),2e3),uni.showToast({title:e+"成功",icon:"none"})}},forget:function(){uni.showToast({title:"忘记密码",icon:"none"})}}};e.default=c}).call(this,i("5a52")["default"])},6590:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("1f64")),s={data:function(){return{load:{type:0,text:["上拉加载更多...","加载中...","真的一滴都没有了"]},page:1,limit:10,limits:[5,7,10,13,15],tabDbClick:!1}},filters:{formatTime:function(t){return a.default.getTime(t)}},methods:{back:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;uni.navigateBack({delta:t})},navigateTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";uni.navigateTo({url:e?"/pages/".concat(t,"/").concat(t,"?").concat(e):"/pages/".concat(t,"/").concat(t)})},doRefresh:function(){var t=this;this.tabDbClick&&uni.startPullDownRefresh(),this.tabDbClick=!0,setTimeout((function(){t.tabDbClick=!1}),200)}}};e.default=s},8971:function(t,e,i){var n=i("05cd");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("77675d73",n,!0,{sourceMap:!1,shadowMode:!1})},a86a:function(t,e,i){"use strict";i.r(e);var n=i("4418"),a=i("3285");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"0168cda0",null,!1,n["a"],o);e["default"]=c.exports},abf6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=uni.getSystemInfoSync().statusBarHeight+"px",a={name:"UniStatusBar",data:function(){return{statusBarHeight:n}}};e.default=a},c2cc:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight}},[t._t("default")],2)},s=[]},d37a:function(t,e,i){"use strict";i.r(e);var n=i("389e"),a=i("f95f");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"776380f6",null,!1,n["a"],o);e["default"]=c.exports},f95f:function(t,e,i){"use strict";i.r(e);var n=i("532b"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a}}]);